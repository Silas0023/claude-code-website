"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{63454:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var r=a(95155),n=a(12115),l=a(12025),o=a(71847);let s=(0,o.A)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),c=(0,o.A)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),i=(0,o.A)("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);var u=a(71360);let d=[{name:"星空主题",chars:["✦","✧","★","☆","✨","⋆","∘","･"],colors:["#FFD700","#87CEEB","#DDA0DD","#F0E68C","#B0E0E6"],scale:["C4","D4","E4","G4","A4","C5","D5","E5"]},{name:"几何主题",chars:["▲","■","●","▼","◆","○","□","△"],colors:["#FF6B6B","#4ECDC4","#45B7D1","#F7DC6F","#BB8FCE"],scale:["E4","F#4","G#4","B4","C#5","E5","F#5","G#5"]},{name:"花园主题",chars:["❀","✿","❁","✾","✽","❃","❉","❊"],colors:["#FF69B4","#FFB6C1","#FFC0CB","#98FB98","#90EE90"],scale:["F4","G4","A4","C5","D5","F5","G5","A5"]},{name:"代码主题",chars:["{","}","<",">","/","*","#","@"],colors:["#61DAFB","#FF6B6B","#FFC107","#4CAF50","#E91E63"],scale:["G4","A4","B4","D5","E5","G5","A5","B5"]},{name:"表情主题",chars:["♥","♠","♦","♣","☺","☻","♫","♪"],colors:["#FF1493","#FF69B4","#FFB6C1","#FFC0CB","#FFE4E1"],scale:["A4","C#5","E5","F#5","A5","C#6","E6","F#6"]}];class h{playNote(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;if(!this.audioContext||!this.masterGainNode)return;let a=this.audioContext.createOscillator(),r=this.audioContext.createGain();a.connect(r),r.connect(this.masterGainNode),a.type="sine",a.frequency.value=e;let n=this.audioContext.currentTime;r.gain.setValueAtTime(0,n),r.gain.linearRampToValueAtTime(.3,n+.01),r.gain.exponentialRampToValueAtTime(.01,n+t/1e3),a.start(n),a.stop(n+t/1e3)}noteToFrequency(e){return({C4:261.63,D4:293.66,E4:329.63,F4:349.23,G4:392,A4:440,B4:493.88,"C#4":277.18,"F#4":369.99,"G#4":415.3,C5:523.25,D5:587.33,E5:659.25,F5:698.46,G5:783.99,A5:880,B5:987.77,"C#5":554.37,"F#5":739.99,"G#5":830.61,C6:1046.5,E6:1318.51,"F#6":1479.98,"C#6":1108.73})[e]||440}constructor(){this.audioContext=null,this.masterGainNode=null,this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.masterGainNode=this.audioContext.createGain(),this.masterGainNode.connect(this.audioContext.destination),this.masterGainNode.gain.value=.3}}function m(){let e=(0,n.useRef)(null),t=(0,n.useRef)(null),[a,o]=(0,n.useState)(!1),[m,x]=(0,n.useState)(0),[p,f]=(0,n.useState)(!0),[y,g]=(0,n.useState)(()=>Array(20).fill(null).map(()=>Array(40).fill(null)));(0,n.useEffect)(()=>{t.current=new h},[]);let C=d[m],F=(e,r)=>{a&&(g(t=>{let a=[...t];return a[e]=[...a[e]],a[e][r]={char:C.chars[Math.floor(Math.random()*C.chars.length)],color:C.colors[Math.floor(Math.random()*C.colors.length)]},a}),(()=>{if(!p||!t.current)return;let e=C.scale[Math.floor(Math.random()*C.scale.length)],a=t.current.noteToFrequency(e);t.current.playNote(a)})())},v=()=>{o(!1)};return(0,n.useEffect)(()=>(document.addEventListener("mouseup",v),document.addEventListener("touchend",v),()=>{document.removeEventListener("mouseup",v),document.removeEventListener("touchend",v)}),[]),(0,r.jsxs)(l.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-5xl mx-auto p-6 bg-gray-900 rounded-xl shadow-2xl",children:[(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-orange-400 to-pink-500 bg-clip-text text-transparent",children:"音乐 ASCII 艺术画板"}),(0,r.jsx)("p",{className:"text-gray-400",children:"点击并拖动来创建艺术，每个字符都会演奏音符！"})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6 justify-center",children:[(0,r.jsxs)("button",{onClick:()=>{x(e=>(e+1)%d.length)},className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-medium flex items-center gap-2 hover:scale-105 transition-transform",children:[(0,r.jsx)(s,{className:"w-4 h-4"}),"切换主题: ",C.name]}),(0,r.jsxs)("button",{onClick:()=>f(!p),className:"px-4 py-2 rounded-lg font-medium flex items-center gap-2 transition-all ".concat(p?"bg-gradient-to-r from-green-500 to-teal-500 text-white":"bg-gray-700 text-gray-400"),children:[p?(0,r.jsx)(c,{className:"w-4 h-4"}):(0,r.jsx)(i,{className:"w-4 h-4"}),"音效: ",p?"开启":"关闭"]}),(0,r.jsxs)("button",{onClick:()=>{g(Array(20).fill(null).map(()=>Array(40).fill(null)))},className:"px-4 py-2 bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-lg font-medium flex items-center gap-2 hover:scale-105 transition-transform",children:[(0,r.jsx)(u.A,{className:"w-4 h-4"}),"清空画布"]})]}),(0,r.jsx)("div",{className:"mb-4 p-3 bg-gray-800 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-3 flex-wrap",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:"当前字符集:"}),C.chars.map((e,t)=>(0,r.jsx)("span",{className:"text-2xl font-mono",style:{color:C.colors[t%C.colors.length]},children:e},t))]})}),(0,r.jsx)("div",{ref:e,className:"bg-black rounded-lg p-4 select-none cursor-crosshair overflow-auto",onTouchMove:e=>{if(!a)return;let t=e.touches[0],r=document.elementFromPoint(t.clientX,t.clientY);r&&r.classList.contains("ascii-cell")&&F(parseInt(r.getAttribute("data-row")||"0"),parseInt(r.getAttribute("data-col")||"0"))},children:(0,r.jsx)("div",{className:"inline-block",children:y.map((e,t)=>(0,r.jsx)("div",{className:"flex",children:e.map((e,n)=>(0,r.jsx)("div",{"data-row":t,"data-col":n,className:"ascii-cell w-5 h-5 flex items-center justify-center text-lg font-mono hover:bg-gray-800 transition-colors",onMouseDown:e=>{e.preventDefault(),o(!0),F(t,n)},onMouseEnter:()=>{a&&F(t,n)},onTouchStart:e=>{e.preventDefault(),o(!0),F(t,n)},style:{color:(null==e?void 0:e.color)||"transparent",textShadow:e?"0 0 10px currentColor":"none"},children:(null==e?void 0:e.char)||"\xb7"},"".concat(t,"-").concat(n)))},t))})}),(0,r.jsx)("div",{className:"mt-4 text-center text-gray-500 text-sm",children:(0,r.jsx)("p",{children:"支持鼠标和触摸输入 • 每个主题都有独特的音阶"})})]})}},71360:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(71847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])}}]);