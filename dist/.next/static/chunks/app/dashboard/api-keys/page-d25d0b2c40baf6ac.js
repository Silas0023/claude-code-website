(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{26766:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>v});var t=a(95155),l=a(12115),r=a(12025),i=a(9540),n=a(6191),d=a(5370),c=a(50906),x=a(17910),o=a(70532),m=a(57828),g=a(5917),h=a(75426),u=a(16485),b=a(71360),j=a(6132),y=a(29017),p=a(65380),N=a(20063);function v(){let{logout:e}=(0,p.A)(),s=(0,N.useRouter)(),[a,v]=(0,l.useState)(!1),[f,w]=(0,l.useState)([{id:"1",name:"生产环境密钥",key:"sk-proj-...7fKd",created:"2024-01-15",lastUsed:"2 小时前",usage:15234,status:"active"},{id:"2",name:"开发测试密钥",key:"sk-test-...9mNx",created:"2024-01-20",lastUsed:"5 天前",usage:3421,status:"active"}]),[k,A]=(0,l.useState)(null),[P,C]=(0,l.useState)(null),[S,I]=(0,l.useState)(!1),[_,M]=(0,l.useState)("");return(0,t.jsxs)("div",{className:"h-screen bg-gray-50 flex overflow-hidden",children:[(0,t.jsx)(y.A,{onLogout:()=>{e(),s.push("/")},isMobileMenuOpen:a,setIsMobileMenuOpen:v}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[(0,t.jsx)("header",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 lg:px-8 py-4 flex-shrink-0",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>v(!a),className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,t.jsx)(i.A,{className:"w-5 h-5 text-gray-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"API 密钥管理"}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-500 mt-0.5",children:"管理您的 API 访问密钥"})]})]}),(0,t.jsxs)(r.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>I(!0),className:"hidden sm:flex px-4 sm:px-6 py-2 sm:py-2.5 bg-gradient-to-r from-orange-500 to-orange-600 text-white text-sm font-medium rounded-full hover:shadow-lg transition-all items-center gap-2",children:[(0,t.jsx)(n.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"创建新密钥"})]})]})}),(0,t.jsxs)("main",{className:"flex-1 p-8 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,t.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,t.jsx)(d.A,{className:"w-5 h-5 text-blue-600"})}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"总密钥数"})]}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:f.length}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[f.filter(e=>"active"===e.status).length," 个活跃"]})]}),(0,t.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,t.jsx)(c.A,{className:"w-5 h-5 text-green-600"})}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"本月调用"})]}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"18,655"}),(0,t.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"+12.5% 较上月"})]}),(0,t.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,t.jsx)(x.A,{className:"w-5 h-5 text-orange-600"})}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"安全等级"})]}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"高"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"所有密钥已加密"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"您的 API 密钥"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"请妥善保管您的密钥，不要分享给他人"})]}),(0,t.jsx)("div",{className:"divide-y divide-gray-100",children:f.map(e=>(0,t.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 hover:bg-gray-50 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,t.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full ".concat("active"===e.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"),children:"active"===e.status?"活跃":"已禁用"})]}),(0,t.jsx)("div",{className:"flex items-center gap-4 mb-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("code",{className:"font-mono text-sm bg-gray-100 px-3 py-1 rounded",children:k===e.id?e.key:"••••••••••••••••"}),(0,t.jsx)("button",{onClick:()=>A(k===e.id?null:e.id),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",children:k===e.id?(0,t.jsx)(o.A,{className:"w-4 h-4 text-gray-500"}):(0,t.jsx)(m.A,{className:"w-4 h-4 text-gray-500"})}),(0,t.jsx)("button",{onClick:()=>{var s,a;return s=e.key,a=e.id,void(navigator.clipboard.writeText(s),C(a),setTimeout(()=>C(null),2e3))},className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",children:P===e.id?(0,t.jsx)(g.A,{className:"w-4 h-4 text-green-500"}):(0,t.jsx)(h.A,{className:"w-4 h-4 text-gray-500"})})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(u.A,{className:"w-3.5 h-3.5"}),"创建于 ",e.created]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(c.A,{className:"w-3.5 h-3.5"}),"最后使用 ",e.lastUsed]}),(0,t.jsxs)("span",{children:["调用次数: ",e.usage.toLocaleString()]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>{var s;return s=e.id,void w(e=>e.map(e=>e.id===s?{...e,status:"active"===e.status?"inactive":"active"}:e))},className:"px-4 py-2 text-sm font-medium rounded-lg transition-colors ".concat("active"===e.status?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-green-100 text-green-700 hover:bg-green-200"),children:"active"===e.status?"禁用":"启用"}),(0,t.jsx)("button",{onClick:()=>{var s;return s=e.id,void w(e=>e.filter(e=>e.id!==s))},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,t.jsx)(b.A,{className:"w-4 h-4"})})]})]})},e.id))})]}),(0,t.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8 p-6 bg-orange-50 rounded-2xl border border-orange-100",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(j.A,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"安全提示"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"请勿在客户端代码中直接使用 API 密钥。建议通过后端服务器进行 API 调用，以保护您的密钥安全。 定期更换密钥，并及时删除不再使用的密钥。"})]})]})})]})]}),S&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)(r.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"创建新的 API 密钥"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"密钥名称"}),(0,t.jsx)("input",{type:"text",value:_,onChange:e=>M(e.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500",placeholder:"例如：生产环境密钥"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{if(!_.trim())return;let e={id:Date.now().toString(),name:_,key:"sk-".concat(Math.random().toString(36).substring(2,15)),created:new Date().toISOString().split("T")[0],lastUsed:"从未",usage:0,status:"active"};w(s=>[...s,e]),M(""),I(!1)},className:"flex-1 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white font-medium rounded-lg hover:shadow-lg transition-all",children:"创建"}),(0,t.jsx)("button",{onClick:()=>I(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors",children:"取消"})]})]})})]})}},78190:(e,s,a)=>{Promise.resolve().then(a.bind(a,26766))}},e=>{e.O(0,[687,526,708,441,255,358],()=>e(e.s=78190)),_N_E=e.O()}]);