(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{38190:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var r=a(95155),s=a(12115),o=a(20063),i=a(12025),l=a(9602),n=a(56154),c=a(78192),d=a(20639),u=a(95740),h=a(52508),g=a(17910),m=a(52619),x=a.n(m),p=a(65380);let f=e=>{let{texts:t,typingSpeed:a=100,deletingSpeed:o=50,pauseTime:i=2e3}=e,[l,n]=(0,s.useState)(""),[c,d]=(0,s.useState)(0),[u,h]=(0,s.useState)(!1),[g,m]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=t[c],r=setTimeout(()=>{if(!u&&l===e){m(!0),setTimeout(()=>{m(!1),h(!0)},i);return}if(u&&""===l){h(!1),d(e=>(e+1)%t.length);return}g||(u?n(e.substring(0,l.length-1)):n(e.substring(0,l.length+1)))},u?o:a);return()=>clearTimeout(r)},[l,c,u,g,t,a,o,i]),(0,r.jsxs)("div",{className:"typing-animation min-h-[48px] flex items-center",children:[(0,r.jsx)("span",{className:"text-4xl font-bold text-white",children:l}),(0,r.jsx)("span",{className:"typing-cursor inline-block w-[3px] h-8 bg-white ml-1 animate-pulse"})]})};var b=a(22663);function y(){let[e,t]=(0,s.useState)(""),[a,m]=(0,s.useState)(""),[y,w]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!1),[N,S]=(0,s.useState)(0),k=(0,o.useRouter)(),{loginWithPhone:T,sendVerificationCode:E}=(0,p.A)();(0,s.useEffect)(()=>{if(N>0){let e=setTimeout(()=>S(N-1),1e3);return()=>clearTimeout(e)}},[N]);let A=async()=>{if(!e)return void b.Ay.error("请输入手机号",{icon:"\uD83D\uDCF1",style:{borderRadius:"12px",background:"#333",color:"#fff",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"}});if(!/^1[3-9]\d{9}$/.test(e))return void b.Ay.error("请输入有效的手机号",{icon:"⚠️",style:{borderRadius:"12px",background:"#333",color:"#fff",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"}});j(!0);try{await E(e),S(60),b.Ay.success("验证码已发送",{icon:"✉️",style:{borderRadius:"12px",background:"#10b981",color:"#fff",boxShadow:"0 10px 25px rgba(16, 185, 129, 0.3)"}})}catch(e){b.Ay.error(e.message||"发送失败，请重试",{icon:"❌",style:{borderRadius:"12px",background:"#ef4444",color:"#fff",boxShadow:"0 10px 25px rgba(239, 68, 68, 0.3)"}})}finally{j(!1)}},I=async t=>{if(t.preventDefault(),!e||!a)return void b.Ay.error("请输入手机号和验证码",{icon:"\uD83D\uDCDD",style:{borderRadius:"12px",background:"#333",color:"#fff",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"}});w(!0);let r=b.Ay.loading("正在登录...",{style:{borderRadius:"12px",background:"#333",color:"#fff",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"}});try{await T(e,a),b.Ay.dismiss(r),b.Ay.success("登录成功！",{icon:"\uD83C\uDF89",style:{borderRadius:"12px",background:"#10b981",color:"#fff",boxShadow:"0 10px 25px rgba(16, 185, 129, 0.3)"}}),k.push("/dashboard")}catch(e){b.Ay.dismiss(r),b.Ay.error(e.message||"验证码错误，请重试",{icon:"❌",style:{borderRadius:"12px",background:"#ef4444",color:"#fff",boxShadow:"0 10px 25px rgba(239, 68, 68, 0.3)"}})}finally{w(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 flex",children:[(0,r.jsx)(b.l$,{position:"top-center",toastOptions:{duration:4e3,style:{padding:"16px",maxWidth:"400px"}}}),(0,r.jsxs)("div",{className:"hidden lg:flex flex-1 bg-gradient-to-br from-orange-500 to-purple-600 p-12 items-center justify-center relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0",children:[(0,r.jsx)("div",{className:"absolute top-10 left-10 w-20 h-20 bg-white/10 rounded-full blur-xl animate-pulse"}),(0,r.jsx)("div",{className:"absolute bottom-20 right-20 w-32 h-32 bg-white/10 rounded-full blur-2xl animate-pulse delay-500"}),(0,r.jsx)("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-white/10 rounded-full blur-xl animate-pulse delay-1000"})]}),(0,r.jsxs)("div",{className:"relative z-10 max-w-lg",children:[(0,r.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-24 h-24 bg-white/20 backdrop-blur-lg rounded-3xl mb-8",children:(0,r.jsx)(l.A,{className:"w-12 h-12 text-white"})}),(0,r.jsx)(f,{texts:["Claude Code 智能编程助手","AI 驱动的代码生成","提升开发效率 10 倍","支持多种编程语言","智能代码补全和优化"]}),(0,r.jsx)("p",{className:"text-white/90 text-lg mt-8 leading-relaxed",children:"体验下一代 AI 编程助手，让代码编写更简单、更高效。Claude Code 为您提供智能的代码生成、优化和调试功能。"})]}),(0,r.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 text-white/90",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-lg rounded-xl flex items-center justify-center",children:(0,r.jsx)(n.A,{className:"w-5 h-5 text-white"})}),(0,r.jsx)("span",{children:"极速代码生成，秒级响应"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-white/90",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-lg rounded-xl flex items-center justify-center",children:(0,r.jsx)(c.A,{className:"w-5 h-5 text-white"})}),(0,r.jsx)("span",{children:"基于最新 Claude AI 模型"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-white/90",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-lg rounded-xl flex items-center justify-center",children:(0,r.jsx)(d.A,{className:"w-5 h-5 text-white"})}),(0,r.jsx)("span",{children:"持续学习，不断进化"})]})]}),(0,r.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.6},className:"mt-12 flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-1 bg-white/30 rounded-full"}),(0,r.jsx)("div",{className:"w-6 h-1 bg-white/30 rounded-full"}),(0,r.jsx)("div",{className:"w-3 h-1 bg-white/30 rounded-full"})]})]})]}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(0,r.jsx)(i.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"w-full max-w-md",children:(0,r.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-8 md:p-10",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)(x(),{href:"/",className:"inline-block",children:(0,r.jsx)(i.P.div,{whileHover:{scale:1.05},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl shadow-lg mb-4",children:(0,r.jsx)(u.A,{className:"w-10 h-10 text-white"})})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"欢迎回来"}),(0,r.jsx)("p",{className:"text-gray-500 mt-2",children:"登录您的 Claude Code 账户"})]}),(0,r.jsxs)("form",{onSubmit:I,className:"space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"手机号码"}),(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)(h.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-orange-500 transition-colors"}),(0,r.jsx)("input",{type:"tel",onChange:e=>{let a=(e=>{let t=e.replace(/\D/g,"").substring(0,11);return t.length>7?"".concat(t.slice(0,3)," ").concat(t.slice(3,7)," ").concat(t.slice(7)):t.length>3?"".concat(t.slice(0,3)," ").concat(t.slice(3)):t})(e.target.value);t(a.replace(/\s/g,"")),e.target.value=a},className:"w-full pl-12 pr-4 py-3.5 bg-gray-50 border border-gray-200 rounded-2xl text-gray-900 placeholder-gray-400 focus:outline-none focus:bg-white focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 transition-all",placeholder:"请输入手机号",maxLength:13})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"验证码"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("div",{className:"relative flex-1 group",children:[(0,r.jsx)(g.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-orange-500 transition-colors"}),(0,r.jsx)("input",{type:"text",value:a,onChange:e=>m(e.target.value.replace(/\D/g,"").substring(0,6)),className:"w-full pl-12 pr-4 py-3.5 bg-gray-50 border border-gray-200 rounded-2xl text-gray-900 placeholder-gray-400 focus:outline-none focus:bg-white focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 transition-all font-mono tracking-wider text-center",placeholder:"6位验证码",maxLength:6})]}),(0,r.jsx)(i.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:A,disabled:N>0||v,className:"px-5 py-3.5 bg-gradient-to-r from-gray-50 to-gray-100 text-gray-700 font-medium rounded-2xl hover:from-gray-100 hover:to-gray-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed min-w-[120px] border border-gray-200",children:v?(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-gray-400 border-t-gray-700 rounded-full animate-spin mx-auto"}):N>0?(0,r.jsxs)("span",{className:"font-mono",children:[N,"s"]}):(0,r.jsx)("span",{children:"发送验证码"})})]})]}),(0,r.jsx)(i.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:y,className:"w-full h-14 bg-gradient-to-r from-orange-500 to-orange-600 text-white font-semibold rounded-2xl hover:from-orange-600 hover:to-orange-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl flex items-center justify-center",children:y?(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,r.jsx)("span",{children:"立即登录"})}),(0,r.jsx)("p",{className:"text-center text-sm text-gray-500 mt-6",children:"\uD83D\uDCA1 新用户首次登录会自动注册"})]})]})})})]})}},42461:(e,t,a)=>{Promise.resolve().then(a.bind(a,38190))},65380:(e,t,a)=>{"use strict";a.d(t,{A:()=>n,AuthProvider:()=>l});var r=a(95155),s=a(12115),o=a(90960);let i=(0,s.createContext)(void 0);function l(e){let{children:t}=e,[a,l]=(0,s.useState)(null),[n,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{let t=JSON.parse(e);l(t)}catch(e){console.error("Error parsing stored user:",e),localStorage.removeItem("user")}c(!1)},[]);let d=async(e,t)=>new Promise((a,r)=>{setTimeout(()=>{if(e&&t){let t={id:"1",email:e,name:e.split("@")[0],avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(e)};l(t),localStorage.setItem("user",JSON.stringify(t)),a()}else r(Error("Invalid credentials"))},1e3)}),u=async(e,t)=>{try{let a=await o.K.login(e,t);if(200===a.code||0===a.code){let t={id:a.data.userInfo.id.toString(),email:a.data.userInfo.phone,name:a.data.userInfo.nickname||e.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2"),avatar:a.data.userInfo.avatar||"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(e),phone:a.data.userInfo.phone,token:a.data.token,userInfo:a.data.userInfo};try{let e=await o.K.getUserStats(a.data.userInfo.id.toString());(200===e.code||0===e.code)&&(t.userStats=e.data)}catch(e){console.warn("获取用户统计信息失败:",e)}l(t),localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("token",a.data.token)}else throw Error(a.message||"登录失败")}catch(e){throw Error(e.message||"网络错误，请重试")}},h=async e=>{try{let t=await o.K.sendVerificationCode(e);if(200===t.code||0===t.code)return;throw Error(t.message||"发送验证码失败")}catch(e){throw Error(e.message||"网络错误，请重试")}},g=async()=>{if(!(null==a?void 0:a.id))throw Error("用户未登录");try{let e=await o.K.getUserInfo(a.id);if(200===e.code||0===e.code){let t={...a,userInfo:e.data,name:e.data.nickname||a.name,avatar:e.data.avatar||a.avatar,phone:e.data.phone||a.phone};l(t),localStorage.setItem("user",JSON.stringify(t))}else throw Error(e.message||"获取用户信息失败")}catch(e){throw Error(e.message||"网络错误，请重试")}},m=async()=>{if(!(null==a?void 0:a.id))throw Error("用户未登录");try{let e=await o.K.getUserStats(a.id);if(200===e.code||0===e.code){let t={...a,userStats:e.data};l(t),localStorage.setItem("user",JSON.stringify(t))}else throw Error(e.message||"获取用户统计信息失败")}catch(e){throw Error(e.message||"网络错误，请重试")}},x=async()=>{if(!(null==a?void 0:a.id))throw Error("用户未登录");try{let[t,r]=await Promise.all([o.K.getUserInfo(a.id),o.K.getUserStats(a.id)]),s={...a};if(200===t.code||0===t.code){var e;s={...s,userInfo:{...t.data,planName:(null==(e=t.data.subscriptionConfig)?void 0:e.displayName)||"FREE"},name:t.data.nickname||a.name,avatar:t.data.avatar||a.avatar,phone:t.data.phone||a.phone}}(200===r.code||0===r.code)&&(s={...s,userStats:r.data}),l(s),localStorage.setItem("user",JSON.stringify(s))}catch(e){throw Error(e.message||"网络错误，请重试")}};return(0,r.jsx)(i.Provider,{value:{user:a,isLoading:n,login:d,loginWithPhone:u,sendVerificationCode:h,refreshUserInfo:g,refreshUserStats:m,refreshAllUserData:x,logout:()=>{l(null),localStorage.removeItem("user"),localStorage.removeItem("token")},checkAuth:()=>!!a,setServerUrl:e=>{o.K.setBaseUrl(e)},getServerUrl:()=>o.K.baseUrl||"http://127.0.0.1:8088"},children:t})}function n(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},90960:(e,t,a)=>{"use strict";a.d(t,{K:()=>s});class r{getBaseUrl(){return localStorage.getItem("api_base_url")||"https://ai01.zjczwl.cn"}setBaseUrl(e){this.baseUrl=e,localStorage.setItem("api_base_url",e)}getClientIp(){return"127.0.0.1"}async sendVerificationCode(e){let t=await fetch("".concat(this.baseUrl,"/api/claudeApi/sendCode?phone=").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return t.json()}async login(e,t){let a=await fetch("".concat(this.baseUrl,"/api/claudeApi/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:e,code:t,loginIp:this.getClientIp()})});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return a.json()}async getSubscriptionPlans(){let e=await fetch("".concat(this.baseUrl,"/api/claudeApi/subscriptionPlans"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return e.json()}async getUserInfo(e){let t="".concat(this.baseUrl,"/api/claudeApi/userInfo/").concat(e),a=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return await a.json()}async getUserStats(e){let t=await fetch("".concat(this.baseUrl,"/api/claudeApi/userStats/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return t.json()}async getUserModelStats(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"monthly",a=await fetch("".concat(this.baseUrl,"/api/claudeApi/userModelStats"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiId:e,period:t})});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return a.json()}async createOrder(e,t,a){let r=await fetch("".concat(this.baseUrl,"/api/claudeApi/order/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscriptionConfigId:e,type:t,userId:a})});if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));return r.json()}constructor(){this.baseUrl=this.getBaseUrl()}}let s=new r}},e=>{e.O(0,[687,117,441,255,358],()=>e(e.s=42461)),_N_E=e.O()}]);